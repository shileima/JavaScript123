<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
#myCanvas {border:rgba(0,20,255,0.8) solid 1px;}

</style>
<script type="text/javascript">
window.onload=function(){
 
 var c=document.getElementById('myCanvas');
 var ctx=c.getContext('2d');
 var str=50;
 var timer=null;
 var speed=5;
 var height=300;	
 
     ctx.fillStyle="red";
	 ctx.beginPath();
	
	 ctx.arc(180,str,20,Math.PI*0,Math.PI*2,false);
	
	 ctx.closePath();
	 ctx.fill();
 
 function cansMove(){
	 
	 ctx.clearRect(0,0,500,height);
	 ctx.fillStyle="red";
	 ctx.beginPath();
	
	 ctx.arc(180,str,20,Math.PI*0,Math.PI*2,false);
	
	 ctx.closePath();
	 ctx.fill();
	 str=str+speed;
	 
	 if(str==0||str==height)
	 {
		speed=speed*-1; 
	 }
	 
	
 };

 var oBeg=document.getElementById('beg');
 var oClo=document.getElementById('clo');
 oBeg.onclick=function()
 {
	timer=setInterval(function(){
		
		cansMove();
		
		
		},20); 
 }
 
 oClo.onclick=function()
 {
	 
	clearInterval(timer); 
 }


  	
}
 

</script>

</head>

<body>
<canvas id="myCanvas" width="500" height="300"></canvas><br>

<button id="beg">开始</button>
<button id="clo">结束</button>
</body>
</html>
