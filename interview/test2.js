const res = {"msg":"操作成功","code":0,"data":[{"typeItems":null,"name":"最新活动","items":[{"inviteId":6562,"inviteName":"wh满减活动-0927-1101","activityStartTime":1632672000,"activityEndTime":1698767999,"poiPolicyType":2,"briefIntroduction":"简介","poiPolicyTypeDesc":"满减","segmentType":1,"timeTip":"722天8小时12分钟后报名截止","inviteLabel":["大促专属","自定义"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":2,"inviteLabelIterator":["大促专属","自定义"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true},{"inviteId":6508,"inviteName":"ctcs20210921","activityStartTime":1632326400,"activityEndTime":1635695999,"poiPolicyType":17,"briefIntroduction":"1","poiPolicyTypeDesc":"折扣","segmentType":2,"timeTip":"6天8小时12分钟后报名截止","inviteLabel":["平台补贴"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":1,"inviteLabelIterator":["平台补贴"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"setName":true,"typeItemsSize":0,"typeItemsIterator":null,"setTypeItems":false,"itemsSize":2,"itemsIterator":[{"inviteId":6562,"inviteName":"wh满减活动-0927-1101","activityStartTime":1632672000,"activityEndTime":1698767999,"poiPolicyType":2,"briefIntroduction":"简介","poiPolicyTypeDesc":"满减","segmentType":1,"timeTip":"722天8小时12分钟后报名截止","inviteLabel":["大促专属","自定义"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":2,"inviteLabelIterator":["大促专属","自定义"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true},{"inviteId":6508,"inviteName":"ctcs20210921","activityStartTime":1632326400,"activityEndTime":1635695999,"poiPolicyType":17,"briefIntroduction":"1","poiPolicyTypeDesc":"折扣","segmentType":2,"timeTip":"6天8小时12分钟后报名截止","inviteLabel":["平台补贴"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":1,"inviteLabelIterator":["平台补贴"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"setItems":true},{"typeItems":[{"items":[{"inviteId":6562,"inviteName":"wh满减活动-0927-1101","activityStartTime":1632672000,"activityEndTime":1698767999,"poiPolicyType":2,"briefIntroduction":"简介","poiPolicyTypeDesc":"满减","segmentType":1,"timeTip":"722天8小时12分钟后报名截止","inviteLabel":["大促专属","自定义"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":2,"inviteLabelIterator":["大促专属","自定义"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"name":"店铺满减","setName":true,"itemsSize":1,"itemsIterator":[{"inviteId":6562,"inviteName":"wh满减活动-0927-1101","activityStartTime":1632672000,"activityEndTime":1698767999,"poiPolicyType":2,"briefIntroduction":"简介","poiPolicyTypeDesc":"满减","segmentType":1,"timeTip":"722天8小时12分钟后报名截止","inviteLabel":["大促专属","自定义"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":2,"inviteLabelIterator":["大促专属","自定义"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"setItems":true}],"name":"门店类活动","items":null,"setName":true,"typeItemsSize":1,"typeItemsIterator":[{"items":[{"inviteId":6562,"inviteName":"wh满减活动-0927-1101","activityStartTime":1632672000,"activityEndTime":1698767999,"poiPolicyType":2,"briefIntroduction":"简介","poiPolicyTypeDesc":"满减","segmentType":1,"timeTip":"722天8小时12分钟后报名截止","inviteLabel":["大促专属","自定义"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":2,"inviteLabelIterator":["大促专属","自定义"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"name":"店铺满减","setName":true,"itemsSize":1,"itemsIterator":[{"inviteId":6562,"inviteName":"wh满减活动-0927-1101","activityStartTime":1632672000,"activityEndTime":1698767999,"poiPolicyType":2,"briefIntroduction":"简介","poiPolicyTypeDesc":"满减","segmentType":1,"timeTip":"722天8小时12分钟后报名截止","inviteLabel":["大促专属","自定义"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":2,"inviteLabelIterator":["大促专属","自定义"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"setItems":true}],"setTypeItems":true,"itemsSize":0,"itemsIterator":null,"setItems":false},{"typeItems":[{"items":[{"inviteId":6508,"inviteName":"ctcs20210921","activityStartTime":1632326400,"activityEndTime":1635695999,"poiPolicyType":17,"briefIntroduction":"1","poiPolicyTypeDesc":"折扣","segmentType":2,"timeTip":"6天8小时12分钟后报名截止","inviteLabel":["平台补贴"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":1,"inviteLabelIterator":["平台补贴"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"name":"折扣活动","setName":true,"itemsSize":1,"itemsIterator":[{"inviteId":6508,"inviteName":"ctcs20210921","activityStartTime":1632326400,"activityEndTime":1635695999,"poiPolicyType":17,"briefIntroduction":"1","poiPolicyTypeDesc":"折扣","segmentType":2,"timeTip":"6天8小时12分钟后报名截止","inviteLabel":["平台补贴"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":1,"inviteLabelIterator":["平台补贴"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"setItems":true}],"name":"商品类活动","items":null,"setName":true,"typeItemsSize":1,"typeItemsIterator":[{"items":[{"inviteId":6508,"inviteName":"ctcs20210921","activityStartTime":1632326400,"activityEndTime":1635695999,"poiPolicyType":17,"briefIntroduction":"1","poiPolicyTypeDesc":"折扣","segmentType":2,"timeTip":"6天8小时12分钟后报名截止","inviteLabel":["平台补贴"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":1,"inviteLabelIterator":["平台补贴"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"name":"折扣活动","setName":true,"itemsSize":1,"itemsIterator":[{"inviteId":6508,"inviteName":"ctcs20210921","activityStartTime":1632326400,"activityEndTime":1635695999,"poiPolicyType":17,"briefIntroduction":"1","poiPolicyTypeDesc":"折扣","segmentType":2,"timeTip":"6天8小时12分钟后报名截止","inviteLabel":["平台补贴"],"buttonList":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"tipColor":0,"segmentId":0,"version":3,"setInviteId":true,"setInviteName":true,"setActivityStartTime":true,"setActivityEndTime":true,"setPoiPolicyType":true,"setBriefIntroduction":true,"setPoiPolicyTypeDesc":true,"setSegmentId":true,"setSegmentType":true,"setTipColor":true,"setTimeTip":true,"inviteLabelSize":1,"inviteLabelIterator":["平台补贴"],"setInviteLabel":true,"buttonListSize":1,"buttonListIterator":[{"tip":"立即报名","valid":0,"type":1,"setTip":true,"setValid":false,"setType":true}],"setButtonList":true,"setVersion":true}],"setItems":true}],"setTypeItems":true,"itemsSize":0,"itemsIterator":null,"setItems":false}]};

const filterActTyps = (actItems) => {
    // const filterTypes = isBatch ? Object.keys(batchCreatUrl) : Object.keys(creatUrl);
    const filterTypes = [2];
    for (let index = 0; index < actItems.length; index++) {
        const actItem = actItems[index];
        if (actItem.items && actItem.items.length > 0) {
            actItems[index].items = actItem.items.filter((item) => filterTypes.includes(item.poiPolicyType))
            actItems[index].items.itemsIterator = null;
            actItems[index].typeItemsIterator = null
        }
        if (actItem.typeItems && actItem.typeItems.length > 0) {
            for (let index = 0; index < actItem.typeItems.length; index++) {
                const curType = actItem.typeItems[index];
                if (curType.items && curType.items.length > 0) {
                    curType.items = [...curType.items.filter((i) => filterTypes.includes(i.poiPolicyType))]
                }
                actItem.typeItems[index] = curType;
                actItem.typeItemsIterator = null
                actItem.typeItems[index].itemsIterator = null
            }
        }
        
    }
    return actItems;
};

console.log(JSON.stringify(filterActTyps(res.data)));

