<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script type="text/javascript" src="../javaScript/startMove.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
body {height:2000px;}
#div1 {width:100px; height:150px; background:#F00; position:absolute; bottom: 50px; right:0px; }

</style>

<script type="text/javascript">

		
   
  window.onscroll=function()
  {
	  var oDiv=document.getElementById('div1');
	  var scrollTop=document.documentElement.scrollTop || document.body.scrollTop;
	  
	  //Move(document.documentElement.clientHeight+scrollTop-oDiv.offsetHeight);
	 Move((document.documentElement.clientHeight-oDiv.offsetHeight)/2+scrollTop);  //垂直居中
	  //var tar=document.documentElement.clientHeight+scrollTop-oDiv.offsetHeight-50;
	 // startMove(oDiv,'top',tar);
  }

  var timer;
  
  function Move(iTarget) // 运动步骤：关闭、开启、定速、判断
   {
	  var oDiv=document.getElementById('div1');
	  
	  clearInterval(timer);
	  
	  
		  
	  timer=setInterval(function(){
		  
		  var speed=(iTarget-oDiv.offsetTop)/6;          //speed参数定义必须要放到timer里面来执行，因为offsetTop在timer内随时变化
	      speed=speed>0?Math.ceil(speed):Math.floor(speed);
		  
		  if(oDiv.offsetTop==iTarget)
		   {
			 clearInterval(timer);     
		   }
		   else
		   {
			 oDiv.style.top=oDiv.offsetTop+speed+'px';   
		   }
	  },30);
	  
	   
   }
</script>

</head>

<body>

<div id="div1"></div>

</body>
</html>
